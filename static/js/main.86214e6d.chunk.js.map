{"version":3,"sources":["Event.js","EventList.js","Alert.js","CitySearch.js","NumberOfEvents.js","mock-data.js","api.js","App.js","reportWebVitals.js","index.js"],"names":["Event","state","showDetails","handleShowDetails","setState","this","event","props","className","summary","location","start","dateTime","onClick","description","end","timeZone","organizer","email","Component","EventList","events","map","id","Alert","getStyle","color","style","text","InfoAlert","ErrorAlert","CitySearch","query","suggestions","showSuggestions","handleInputChanged","value","target","locations","filter","toUpperCase","indexOf","length","infoText","handleItemClicked","suggestion","updateEvents","type","onChange","onFocus","placeholder","display","NumberOfEvents","numberOfEvents","mockData","extractLocations","Set","checkToken","accessToken","a","fetch","then","res","json","catch","error","result","getEvents","NProgress","window","href","startsWith","done","getAccessToken","token","removeQuery","url","axios","get","data","localStorage","setItem","JSON","stringify","getItem","tokenCheck","removeItem","searchParams","URLSearchParams","search","code","results","authUrl","getToken","history","pushState","pathname","newurl","protocol","host","encodeCode","encodeURIComponent","access_token","App","eventCount","currentLocation","filteredEvents","slice","mounted","navigator","onLine","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","atatus","install"],"mappings":"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","file":"static/js/main.86214e6d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass Event extends Component {\r\n  state = {\r\n    showDetails: false,\r\n  };\r\n\r\n  handleShowDetails = () => {\r\n    if (this.state.showDetails === false) {\r\n      this.setState({ showDetails: true });\r\n    } else {\r\n      this.setState({ showDetails: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const showDetails = this.state.showDetails;\r\n    const { event } = this.props;\r\n\r\n    return (\r\n      <div className=\"event\">\r\n        <div className=\"event-overview\">\r\n          <h2 className=\"summary\">{event.summary}</h2>\r\n          <p className=\"location\">{event.location}</p>\r\n          <p className=\"start-time\">{event.start.dateTime}</p>\r\n          {!showDetails && (\r\n            <button className=\"details-btn\" onClick={this.handleShowDetails}>\r\n              Show Event Details\r\n            </button>\r\n          )}\r\n          {showDetails && (\r\n            <button className=\"details-btn\" onClick={this.handleShowDetails}>\r\n              Hide Event Details\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {showDetails && (\r\n          <div className=\"event-details\">\r\n            <p className=\"description\">{event.description}</p>\r\n            <p className=\"end-time\">{event.end.dateTime}</p>\r\n            <p className=\"time-zone\">{event.start.timeZone}</p>\r\n            <p className=\"organizer-email\">{event.organizer.email}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Event;","import React, { Component } from 'react';\nimport Event from './Event';\n\nclass EventList extends Component {\n    render() {\n        const { events } = this.props\n        return (\n            <ul className=\"EventList\">\n                {events.map(event =>\n                    <li key={event.id}>\n                        <Event event={event} />\n                    </li>)}\n            </ul>\n        );\n    }\n}\n\nexport default EventList;","import React, { Component } from \"react\";\r\n\r\nclass Alert extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.color = null;\r\n  }\r\n\r\n  getStyle = () => {\r\n    return {\r\n      color: this.color,\r\n    };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Alert\">\r\n        <p style={this.getStyle()}>{this.props.text}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass InfoAlert extends Alert {\r\n  constructor(props) {\r\n    super(props);\r\n    this.color = \"Red\";\r\n  }\r\n}\r\n\r\nclass ErrorAlert extends Alert {\r\n    constructor(props) {\r\n      super(props);\r\n      this.color = \"red\";\r\n    }\r\n  }\r\n  \r\n\r\n  export { InfoAlert, ErrorAlert};","import React, { Component } from 'react';\nimport { InfoAlert } from \"./Alert\";\n\nclass CitySearch extends Component {\n    state = {\n        query: '',\n        suggestions: [],\n        showSuggestions: false,\n    }\n    handleInputChanged = (event) => {\n      const value = event.target.value;\n      const suggestions = this.props.locations.filter((location) => {\n        return location.toUpperCase().indexOf(value.toUpperCase()) > -1;\n      });\n      if (suggestions.length === 0) {\n        this.setState({\n          query: value,\n          infoText:\n            \"We can not find the city you are looking for. Please try another city\",\n        });\n      } else {\n        return this.setState({\n          query: value,\n          suggestions,\n          infoText: \"\",\n        });\n      }\n    };\n    handleItemClicked = (suggestion) => {\n        this.setState({\n            query: suggestion,\n            showSuggestions: false\n        });\n        this.props.updateEvents(suggestion);\n    }\n    \n    render() {\n      return (\n        <div className=\"CitySearch\">\n          <InfoAlert text={this.state.infoText} />\n          <h2 className=\"citysearch-instruction\">Choose your closest city</h2>\n          <input\n            type=\"text\"\n            className=\"city\"\n            value={this.state.query}\n            onChange={this.handleInputChanged}\n            onFocus={() => {\n              this.setState({ showSuggestions: true });\n            }}\n            placeholder=\"Search for a City\"\n          />\n          <ul\n            className=\"suggestions\"\n            style={this.state.showSuggestions ? {} : { display: \"none\" }}\n          >\n            {this.state.suggestions.map((suggestion) => (\n              <li\n                key={suggestion}\n                onClick={() => this.handleItemClicked(suggestion)}\n              >\n                {suggestion}\n              </li>\n            ))}\n            <li key=\"all\" onClick={() => this.handleItemClicked(\"all\")}>\n              <b>See all cities</b>\n            </li>\n          </ul>\n        </div>\n      );\n    }\n  }\n    \n    export default CitySearch;","import React, { Component } from 'react';\nimport { ErrorAlert } from \"./Alert\"\n\nclass NumberOfEvents extends Component {\n    state = {\n        numberOfEvents: 32,\n    };\n\n    handleInputChanged = (event) => {\n        const value = event.target.value;\n        this.props.updateEvents(null, value);\n        this.setState({\n          numberOfEvents: value,\n        });\n    \n        if (value < 1) {\n          this.setState({\n            infoText: \"Please choose a number of events between 1 and 32\",\n          });\n        } else {\n          this.setState({\n            infoText: \"\",\n          });\n        }\n      };\n\n    render() {\n        return (\n            <div className=\"numberOfEvents\">\n             <ErrorAlert text={this.state.infoText} />\n             <label className= \"numberofeventslabel\">Number of events:</label>\n                <input\n                    type=\"number\"\n                    className=\"numberInput\"\n                    value={this.state.numberOfEvents}\n                    onChange={this.handleInputChanged}\n                />\n            </div>\n        )\n    }\n}\n\nexport default NumberOfEvents;","const mockData = [\n    {\n        \"kind\": \"calendar#event\",\n        \"etag\": \"\\\"3181161784712000\\\"\",\n        \"id\": \"4eahs9ghkhrvkld72hogu9ph3e_20200519T140000Z\",\n        \"status\": \"confirmed\",\n        \"htmlLink\": \"https://www.google.com/calendar/event?eid=NGVhaHM5Z2hraHJ2a2xkNzJob2d1OXBoM2VfMjAyMDA1MTlUMTQwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20\",\n        \"created\": \"2020-05-19T19:17:46.000Z\",\n        \"updated\": \"2020-05-27T12:01:32.356Z\",\n        \"summary\": \"Learn JavaScript\",\n        \"description\": \"Have you wondered how you can ask Google to show you the list of the top ten must-see places in London? And how Google presents you the list? How can you submit the details of an application? Well, JavaScript is doing these. :) \\n\\nJavascript offers interactivity to a dull, static website. Come, learn JavaScript with us and make those beautiful websites.\",\n        \"location\": \"London, UK\",\n        \"creator\": {\n            \"email\": \"fullstackwebdev@careerfoundry.com\",\n            \"self\": true\n        },\n        \"organizer\": {\n            \"email\": \"fullstackwebdev@careerfoundry.com\",\n            \"self\": true\n        },\n        \"start\": {\n            \"dateTime\": \"2020-05-19T16:00:00+02:00\",\n            \"timeZone\": \"Europe/Berlin\"\n        },\n        \"end\": {\n            \"dateTime\": \"2020-05-19T17:00:00+02:00\",\n            \"timeZone\": \"Europe/Berlin\"\n        },\n        \"recurringEventId\": \"4eahs9ghkhrvkld72hogu9ph3e\",\n        \"originalStartTime\": {\n            \"dateTime\": \"2020-05-19T16:00:00+02:00\",\n            \"timeZone\": \"Europe/Berlin\"\n        },\n        \"iCalUID\": \"4eahs9ghkhrvkld72hogu9ph3e@google.com\",\n        \"sequence\": 0,\n        \"reminders\": {\n            \"useDefault\": true\n        }\n    },\n    {\n        \"kind\": \"calendar#event\",\n        \"etag\": \"\\\"3181159875584000\\\"\",\n        \"id\": \"3qtd6uscq4tsi6gc7nmmtpqlct_20200520T120000Z\",\n        \"status\": \"confirmed\",\n        \"htmlLink\": \"https://www.google.com/calendar/event?eid=M3F0ZDZ1c2NxNHRzaTZnYzdubW10cHFsY3RfMjAyMDA1MjBUMTIwMDAwWiBmdWxsc3RhY2t3ZWJkZXZAY2FyZWVyZm91bmRyeS5jb20\",\n        \"created\": \"2020-05-19T19:14:30.000Z\",\n        \"updated\": \"2020-05-27T11:45:37.792Z\",\n        \"summary\": \"React is Fun\",\n        \"description\": \"Love HTML, CSS, and JS? Want to become a cool front-end developer? \\n\\nReact is one of the most popular front-end frameworks. There is a huge number of job openings for React developers in most cities. \\n\\nJoin us in our free React training sessions and give your career a new direction. \",\n        \"location\": \"Berlin, Germany\",\n        \"creator\": {\n            \"email\": \"fullstackwebdev@careerfoundry.com\",\n            \"self\": true\n        },\n        \"organizer\": {\n            \"email\": \"fullstackwebdev@careerfoundry.com\",\n            \"self\": true\n        },\n        \"start\": {\n            \"dateTime\": \"2020-05-20T14:00:00+02:00\",\n            \"timeZone\": \"Europe/Berlin\"\n        },\n        \"end\": {\n            \"dateTime\": \"2020-05-20T15:00:00+02:00\",\n            \"timeZone\": \"Europe/Berlin\"\n        },\n        \"recurringEventId\": \"3qtd6uscq4tsi6gc7nmmtpqlct\",\n        \"originalStartTime\": {\n            \"dateTime\": \"2020-05-20T14:00:00+02:00\",\n            \"timeZone\": \"Europe/Berlin\"\n        },\n        \"iCalUID\": \"3qtd6uscq4tsi6gc7nmmtpqlct@google.com\",\n        \"sequence\": 0,\n        \"reminders\": {\n            \"useDefault\": true\n        }\n    }\n]\n\nexport { mockData };\n","import { mockData } from './mock-data';\nimport axios from 'axios';\nimport NProgress from 'nprogress';\n\n// This function takes an events array, then uses map to create a new array with only locations.\n// It will also remove all duplicates by creating another new array using the spread operator and spreading a Set.\n// The Set will remove all duplicates from the array.\n\nexport const extractLocations = (events) => {\n  var extractLocations = events.map((event) => event.location);\n  var locations = [...new Set(extractLocations)];\n  return locations;\n};\n\nexport const extractEvents = (events) => {\n  var extractEvents = events.map((event) => event);\n  var oneEvent = [...new Set(extractEvents)];\n  return oneEvent;\n};\n\nconst checkToken = async (accessToken) => {\n  const result = await fetch(\n    `https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=${accessToken}`\n  )\n    .then((res) => res.json())\n    .catch((error) => error.json());\n\n  return result;\n};\n\nexport const getEvents = async () => {\n  NProgress.start();\n\n  if (window.location.href.startsWith(\"http://localhost\")) {\n    NProgress.done();\n    return mockData;\n  }\n\n\n  const token = await getAccessToken();\n\n  if (token) {\n    removeQuery();\n    const url = 'https://r79a8nn3q1.execute-api.us-west-2.amazonaws.com/dev/api/get-events' + '/' + token;\n    const result = await axios.get(url);\n    if (result.data) {\n      var locations = extractLocations(result.data.events);\n      localStorage.setItem(\"lastEvents\", JSON.stringify(result.data));\n      localStorage.setItem(\"locations\", JSON.stringify(locations));\n    }\n    NProgress.done();\n    return result.data.events;\n  }\n};\n\nexport const getAccessToken = async () => {\n  const accessToken = localStorage.getItem('access_token');\n  const tokenCheck = accessToken && (await checkToken(accessToken));\n\n  if (!accessToken || tokenCheck.error) {\n    await localStorage.removeItem(\"access_token\");\n    const searchParams = new URLSearchParams(window.location.search);\n    const code = await searchParams.get(\"code\");\n    if (!code) {\n      const results = await axios.get(\n        \"https://r79a8nn3q1.execute-api.us-west-2.amazonaws.com/dev/api/get-auth-url\"\n      );\n      const { authUrl } = results.data;\n      return (window.location.href = authUrl);\n    }\n    return code && getToken(code);\n  }\n  return accessToken;\n};\n\nconst removeQuery = () => {\n  if (window.history.pushState && window.location.pathname) {\n    var newurl =\n      window.location.protocol +\n      \"//\" +\n      window.location.host +\n      window.location.pathname;\n    window.history.pushState(\"\", \"\", newurl);\n  } else {\n    newurl = window.location.protocol + \"//\" + window.location.host;\n    window.history.pushState(\"\", \"\", newurl);\n  }\n};\n\nconst getToken = async (code) => {\n  const encodeCode = encodeURIComponent(code);\n  const { access_token } = await fetch(\n    'https://r79a8nn3q1.execute-api.us-west-2.amazonaws.com/dev/api/token' + '/' + encodeCode\n  )\n    .then((res) => {\n      return res.json();\n    })\n    .catch((error) => error);\n\n  access_token && localStorage.setItem(\"access_token\", access_token);\n\n  return access_token;\n};","import React, { Component } from 'react';\nimport './App.css';\nimport \"./nprogress.css\"\nimport EventList from './EventList';\nimport CitySearch from './CitySearch';\nimport NumberOfEvents from './NumberOfEvents';\nimport { getEvents, extractLocations } from \"./api\";\n\n\n\nclass App extends Component {\n  state = {\n    events: [],\n    locations: [],\n    numberOfEvents: 32\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    getEvents().then((events) => {\n      const { numberOfEvents } = this.state;\n      if (this.mounted) {\n        const filteredEvents = events.slice(0, numberOfEvents);\n        this.setState({ \n          events: filteredEvents,\n          locations: extractLocations(events),\n        });\n      }\n\n      if (!navigator.onLine) {\n        this.setState({\n          infoText: 'You are currently offline.  The list of events may not be up-to-date.'\n        });\n      }\n    });\n  }\n  componentWillUnmount(){\n    this.mounted = false;\n  }\n\n  updateEvents = (location, eventCount) => {\n    const { currentLocation, numberOfEvents } = this.state;\n    if (location) {\n      getEvents().then((events) => {\n        const locationEvents =\n          location === 'all'\n          ? events\n          : events.filter((event) => event.location === location);\n        const filteredEvents = locationEvents.slice(0, numberOfEvents);\n        this.setState({\n          events: filteredEvents,\n          currentLocation: location,\n        });\n      });\n    } else {\n      getEvents().then((events) => {\n        const locationEvents =\n          currentLocation === 'all'\n          ? events\n          : events.filter((event) => event.location === currentLocation);\n        const filteredEvents = locationEvents.slice(0, eventCount);\n        this.setState({\n          events: filteredEvents,\n          numberOfEvents: eventCount,\n        });\n      });\n    }\n  };\n\n\n\n  render() {\n    return (\n      <div className=\"App\">\n        <CitySearch locations={this.state.locations} updateEvents={this.updateEvents} />\n        <NumberOfEvents numberOfEvents={this.state.numberOfEvents} updateEvents={this.updateEvents}/>\n        <EventList events={this.state.events} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as atatus from \"atatus-spa\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\natatus.config('ff7c15c6d1454bacb579498f65cec784').install(); \n"],"sourceRoot":""}